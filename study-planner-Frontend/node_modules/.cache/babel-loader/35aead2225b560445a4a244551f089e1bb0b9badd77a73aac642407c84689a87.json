{"ast":null,"code":"import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import React,{useEffect,useState}from'react';import{NavLink}from'react-router-dom';// import Dashboard from './Dashboard'\nimport Login from'./pages/Login';import Register from'./pages/Register';import Dashboard from'./Dashboard';import'./App.css';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[isLoggedIn,setIsLoggedIn]=useState(!!localStorage.getItem('token'));useEffect(()=>{const handleStorageChange=()=>{setIsLoggedIn(!!localStorage.getItem('token'));};window.addEventListener('storage',handleStorageChange);return()=>window.removeEventListener('storage',handleStorageChange);},[]);const handleLogout=()=>{localStorage.removeItem('token');setIsLoggedIn(false);window.location.href='/login';};return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",style:{position:\"fixed\",zIndex:\"2\",width:\"100%\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"nav-left\",children:[/*#__PURE__*/_jsx(NavLink,{style:{textDecoration:\"none\"},className:_ref=>{let{isActive}=_ref;return isActive?\"nav-link active\":\"nav-link\";},to:\"/\",children:\"Dashboard\"}),!isLoggedIn&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavLink,{style:{textDecoration:\"none\"},className:_ref2=>{let{isActive}=_ref2;return isActive?\"nav-link active\":\"nav-link\";},to:\"/login\",children:\"Login\"}),/*#__PURE__*/_jsx(NavLink,{style:{textDecoration:\"none\"},className:_ref3=>{let{isActive}=_ref3;return isActive?\"nav-link active\":\"nav-link\";},to:\"/register\",children:\"Register\"})]})]}),isLoggedIn&&/*#__PURE__*/_jsx(\"button\",{className:\"logout-button\",onClick:handleLogout,children:\"Logout\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:isLoggedIn?/*#__PURE__*/_jsx(Dashboard,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:!isLoggedIn?/*#__PURE__*/_jsx(Login,{setIsLoggedIn:setIsLoggedIn}):/*#__PURE__*/_jsx(Navigate,{to:\"/\"})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:!isLoggedIn?/*#__PURE__*/_jsx(Register,{setIsLoggedIn:setIsLoggedIn}):/*#__PURE__*/_jsx(Navigate,{to:\"/\"})})]})})]});}export default App;","map":{"version":3,"names":["BrowserRouter","Router","Routes","Route","Navigate","React","useEffect","useState","NavLink","Login","Register","Dashboard","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","isLoggedIn","setIsLoggedIn","localStorage","getItem","handleStorageChange","window","addEventListener","removeEventListener","handleLogout","removeItem","location","href","children","className","style","position","zIndex","width","textDecoration","_ref","isActive","to","_ref2","_ref3","onClick","path","element"],"sources":["C:/Users/HP/Documents/GitHub/Smart_Studies_Planner/study-planner-Frontend/src/App.js"],"sourcesContent":["import { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { NavLink } from 'react-router-dom';\r\n// import Dashboard from './Dashboard'\r\nimport Login from './pages/Login'\r\nimport Register from './pages/Register'\r\nimport Dashboard from './Dashboard'\r\nimport './App.css'\r\n\r\n\r\nfunction App() {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(!!localStorage.getItem('token'))\r\n\r\n  useEffect(() => {\r\n    const handleStorageChange = () => {\r\n      setIsLoggedIn(!!localStorage.getItem('token'));\r\n    }\r\n    window.addEventListener('storage', handleStorageChange);\r\n    return () => window.removeEventListener('storage', handleStorageChange)\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    setIsLoggedIn(false);\r\n    window.location.href = '/login';\r\n  }\r\n\r\n  return (\r\n    <Router>\r\n      <nav className=\"navbar\" style={{ position: \"fixed\", zIndex: \"2\", width: \"100%\" }}>\r\n        <div className=\"nav-left\">\r\n          {/* <Link className=\"nav-link\" to=\"/\">Home</Link> */}\r\n          <NavLink style={{ textDecoration: \"none\" }} className={({isActive}) => (isActive ? \"nav-link active\" : \"nav-link\")} to=\"/\">Dashboard</NavLink>\r\n          {/* {isLoggedIn && <Link className=\"nav-link\" to=\"/dashboard\">Dashboard</Link>} */}\r\n          {!isLoggedIn && (\r\n            <>\r\n              <NavLink style={{ textDecoration: \"none\" }} className={({isActive}) => (isActive ? \"nav-link active\" : \"nav-link\")} to=\"/login\">Login</NavLink>\r\n              <NavLink style={{ textDecoration: \"none\" }} className={({isActive}) => (isActive ? \"nav-link active\" : \"nav-link\")} to=\"/register\">Register</NavLink>\r\n            </>\r\n          )}\r\n        </div>\r\n        {isLoggedIn && (\r\n          <button className=\"logout-button\" onClick={handleLogout}>Logout</button>\r\n        )}\r\n      </nav>\r\n\r\n      <div className=\"content\">\r\n        <Routes>\r\n          {/* <Route path=\"/\" element={<h1 className=\"home-title\">Welcome to Smart Study Planner</h1>} /> */}\r\n          {/* <Route path=\"/\" element={isLoggedIn ? <Dashboard /> : <Navigate to=\"/login\" replace />} />\r\n          <Route path=\"/login\" element={isLoggedIn ? <Navigate to=\"/dashboard\" replace /> : <Login />} />\r\n          <Route path=\"/register\" element={isLoggedIn ? <Navigate to=\"/dashboard\" replace /> : <Register />} /> */}\r\n          <Route path=\"/\" element={isLoggedIn ? <Dashboard /> : <Navigate to=\"/login\" />} />\r\n          <Route path=\"/login\" element={!isLoggedIn ? <Login setIsLoggedIn={setIsLoggedIn} /> : <Navigate to=\"/\" />} />\r\n          <Route path=\"/register\" element={!isLoggedIn ? <Register setIsLoggedIn={setIsLoggedIn} /> : <Navigate to=\"/\" />} />\r\n\r\n        </Routes>\r\n      </div>\r\n    </Router>\r\n  )\r\n}\r\n\r\nexport default App\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}